<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rep_actividades" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="c468b4bd-7c63-47d2-aa30-5d75d1f2084d">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[select *
from(select cedula,nombre,sum(valor) as total ,(case when tipo = 'CT' then 'Trabajador' else 'Empleado' end) as tipo
from nom_actividades
group by cedula,nombre,tipo) as a
order by tipo,nombre]]>
	</queryString>
	<field name="cedula" class="java.lang.String"/>
	<field name="nombre" class="java.lang.String"/>
	<field name="total" class="java.math.BigDecimal"/>
	<field name="tipo" class="java.lang.String"/>
	<variable name="variable1" class="java.math.BigDecimal" resetType="Group" resetGroup="tipo" calculation="Sum">
		<variableExpression><![CDATA[$F{total}]]></variableExpression>
	</variable>
	<group name="tipo">
		<groupExpression><![CDATA[$F{tipo}]]></groupExpression>
		<groupHeader>
			<band height="40">
				<textField>
					<reportElement x="67" y="0" width="388" height="20" uuid="2aedfdbd-4622-4746-aac5-7a94acbeb13d"/>
					<box>
						<topPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Bottom"/>
					<textFieldExpression><![CDATA[$F{tipo}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="0" width="67" height="20" uuid="1f5d7058-5ce0-4e05-93bd-c9b904a01437"/>
					<box>
						<topPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Tipo: ]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="20" width="67" height="20" uuid="bca18a38-7626-408e-bd92-17455f5a4728"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Cedula]]></text>
				</staticText>
				<staticText>
					<reportElement x="67" y="20" width="388" height="20" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" uuid="3404595d-0764-46cd-9922-dd0827de75bc"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Nombre]]></text>
				</staticText>
				<staticText>
					<reportElement x="455" y="20" width="100" height="20" uuid="1b318e26-edaf-412d-9cdc-a869b9cdf658"/>
					<textElement textAlignment="Right">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Valor]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="15">
				<textField>
					<reportElement x="455" y="0" width="100" height="15" uuid="765f6965-ee19-4926-a181-7bddb2313796"/>
					<textElement textAlignment="Right" verticalAlignment="Bottom"/>
					<textFieldExpression><![CDATA[$V{variable1}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="67" y="0" width="388" height="15" uuid="e0a218dd-4029-4c58-93cc-caf03c252da0"/>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Total]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="15" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="67" height="15" uuid="caa2fedb-cbb2-4339-8d03-24b66ec8b934"/>
				<textFieldExpression><![CDATA[$F{cedula}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="67" y="0" width="388" height="15" uuid="4e2557f4-9a3d-4d40-aed4-2053a59828c1"/>
				<textFieldExpression><![CDATA[$F{nombre}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="455" y="0" width="100" height="15" uuid="bbdb14a9-5094-41a7-a2c2-a37122ce8f67"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
